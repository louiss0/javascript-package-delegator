# javascript-package-delegator/project.json
{
  "name": "javascript-package-delegator",
  "root": ".",
  "targets": {
    "build": {
      "executor": "nx:run-commands",
      "options": {
        "command": "go build -ldflags='-X \"{{workspaceRoot}}/buildinfo.Version=dev\" -X \"{{workspaceRoot}}/buildinfo.GO_MODE=development\" -s -w' -o {{projectRoot}}/bin/jpd {{projectRoot}}/main.go"
      },
      "configurations": {
        "production": {
          "command": "go build -ldflags='-X \"{{workspaceRoot}}/buildinfo.Version={version}\" -X \"{{workspaceRoot}}/buildinfo.GO_MODE=production\" -s -w' -o {{projectRoot}}/bin/jpd {{projectRoot}}/main.go"
        }
      }
    },
    "test": {
      "executor": "nx:run-commands",
      "options": {
        "command": "ginkgo -r -v"
      }
    },
    "release-build": {
      "executor": "nx:run-commands",
      "options": {
        "command": "goreleaser release --clean"
      }
    }
  }
}
